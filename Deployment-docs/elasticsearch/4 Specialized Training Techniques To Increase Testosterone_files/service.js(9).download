!function(t,e){sumo.define("plugins/css",[],function(){if("undefined"==typeof window)return{load:function(t,e,r){r()}};var t=document.getElementsByTagName("head")[0],e=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/)||0,r=!1,n=!0;e[1]||e[7]?r=parseInt(e[1])<6||parseInt(e[7])<=9:e[2]?n=!1:e[4]&&(r=parseInt(e[4])<18);var i={};i.pluginBuilder="./css-builder";var a,s=function(){a=document.createElement("style"),t.appendChild(a)},o=function(t,e){s();var r=a.styleSheet||a.sheet;if(r&&r.addImport)r.addImport(t),a.onload=e;else{a.textContent='@import "'+t+'";';var n=setInterval(function(){try{a.sheet.cssRules,clearInterval(n),e()}catch(t){}},10)}},u=function(e,r){var i=document.createElement("link");if(i.type="text/css",i.rel="stylesheet",n)i.onload=function(){i.onload=function(){},setTimeout(r,7)};else var a=setInterval(function(){for(var t=0;t<document.styleSheets.length;t++){var e=document.styleSheets[t];if(e.href==i.href)return clearInterval(a),r()}},10);i.href=e,t.appendChild(i)};return i.normalize=function(t,e){return".css"==t.substr(t.length-4,4)&&(t=t.substr(0,t.length-4)),e(t)},i.load=function(t,e,n,i){(r?o:u)(e.toUrl(t+".css"),n)},i}),sumo.define("JSON",[],function(){var t=null;try{var e=document.createElement("iframe");e.style.display="none",document.body.appendChild(e),t=e.contentWindow.JSON}catch(r){}return t||JSON}),sumo.define("punycode",function(){}),sumo.define("IPv6",function(){}),sumo.define("SecondLevelDomains",function(){}),function(r,n){"object"==typeof t?e.exports=n(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof sumo.define&&sumo.define.amd?sumo.define("URI",["./punycode","./IPv6","./SecondLevelDomains"],n):r.URI=n(r.punycode,r.IPv6,r.SecondLevelDomains,r)}(this,function(t,e,r,n){"use strict";function i(t,e){return this instanceof i?(void 0===t&&(t="undefined"!=typeof location?location.href+"":""),this.href(t),void 0!==e?this.absoluteTo(e):this):new i(t,e)}function a(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function s(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function o(t){return"Array"===s(t)}function u(t,e){var r={},n,i;if(o(e))for(n=0,i=e.length;i>n;n++)r[e[n]]=!0;else r[e]=!0;for(n=0,i=t.length;i>n;n++)void 0!==r[t[n]]&&(t.splice(n,1),i--,n--);return t}function c(t,e){var r,n;if(o(e)){for(r=0,n=e.length;n>r;r++)if(!c(t,e[r]))return!1;return!0}var i=s(e);for(r=0,n=t.length;n>r;r++)if("RegExp"===i){if("string"==typeof t[r]&&t[r].match(e))return!0}else if(t[r]===e)return!0;return!1}function l(t,e){if(!o(t)||!o(e))return!1;if(t.length!==e.length)return!1;t.sort(),e.sort();for(var r=0,n=t.length;n>r;r++)if(t[r]!==e[r])return!1;return!0}function h(t){return escape(t)}function p(t){return encodeURIComponent(t).replace(/[!'()*]/g,h).replace(/\*/g,"%2A")}var d=n&&n.URI;i.version="1.12.0";var f=i.prototype,m=Object.prototype.hasOwnProperty;i._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:i.duplicateQueryParameters,escapeQuerySpace:i.escapeQuerySpace}},i.duplicateQueryParameters=!1,i.escapeQuerySpace=!0,i.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,i.idn_expression=/[^a-z0-9\.-]/i,i.punycode_expression=/(xn--)/i,i.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,i.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,i.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},i.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},i.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,i.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},i.getDomAttribute=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();if("input"!==e||"image"===t.type)return i.domAttributes[e]}},i.encode=p,i.decode=decodeURIComponent,i.iso8859=function(){i.encode=escape,i.decode=unescape},i.unicode=function(){i.encode=p,i.decode=decodeURIComponent},i.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},i.encodeQuery=function(t,e){var r=i.encode(t+"");return e?r.replace(/%20/g,"+"):r},i.decodeQuery=function(t,e){t+="";try{return i.decode(e?t.replace(/\+/g,"%20"):t)}catch(r){return t}},i.recodePath=function(t){for(var e=(t+"").split("/"),r=0,n=e.length;n>r;r++)e[r]=i.encodePathSegment(i.decode(e[r]));return e.join("/")},i.decodePath=function(t){for(var e=(t+"").split("/"),r=0,n=e.length;n>r;r++)e[r]=i.decodePathSegment(e[r]);return e.join("/")};var g={encode:"encode",decode:"decode"},v,y=function(t,e){return function(r){return i[e](r+"").replace(i.characters[t][e].expression,function(r){return i.characters[t][e].map[r]})}};for(v in g)i[v+"PathSegment"]=y("pathname",g[v]);i.encodeReserved=y("reserved","encode"),i.parse=function(t,e){var r;return e||(e={}),r=t.indexOf("#"),r>-1&&(e.fragment=t.substring(r+1)||null,t=t.substring(0,r)),r=t.indexOf("?"),r>-1&&(e.query=t.substring(r+1)||null,t=t.substring(0,r)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=i.parseAuthority(t,e)):(r=t.indexOf(":"),r>-1&&(e.protocol=t.substring(0,r)||null,e.protocol&&!e.protocol.match(i.protocol_expression)?e.protocol=void 0:"file"===e.protocol?t=t.substring(r+3):"//"===t.substring(r+1,r+3)?(t=t.substring(r+3),t=i.parseAuthority(t,e)):(t=t.substring(r+1),e.urn=!0))),e.path=t,e},i.parseHost=function(t,e){var r=t.indexOf("/"),n,i;return-1===r&&(r=t.length),"["===t.charAt(0)?(n=t.indexOf("]"),e.hostname=t.substring(1,n)||null,e.port=t.substring(n+2,r)||null):t.indexOf(":")!==t.lastIndexOf(":")?(e.hostname=t.substring(0,r)||null,e.port=null):(i=t.substring(0,r).split(":"),e.hostname=i[0]||null,e.port=i[1]||null),e.hostname&&"/"!==t.substring(r).charAt(0)&&(r++,t="/"+t),t.substring(r)||"/"},i.parseAuthority=function(t,e){return t=i.parseUserinfo(t,e),i.parseHost(t,e)},i.parseUserinfo=function(t,e){var r=t.indexOf("/"),n=r>-1?t.lastIndexOf("@",r):t.indexOf("@"),a;return n>-1&&(-1===r||r>n)?(a=t.substring(0,n).split(":"),e.username=a[0]?i.decode(a[0]):null,a.shift(),e.password=a[0]?i.decode(a.join(":")):null,t=t.substring(n+1)):(e.username=null,e.password=null),t},i.parseQuery=function(t,e){if(!t)return{};if(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!t)return{};for(var r={},n=t.split("&"),a=n.length,s,o,u,c=0;a>c;c++)s=n[c].split("="),o=i.decodeQuery(s.shift(),e),u=s.length?i.decodeQuery(s.join("="),e):null,r[o]?("string"==typeof r[o]&&(r[o]=[r[o]]),r[o].push(u)):r[o]=u;return r},i.build=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=i.buildAuthority(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.query&&t.query&&(e+="?"+t.query),"string"==typeof t.fragment&&t.fragment&&(e+="#"+t.fragment),e},i.buildHost=function(t){var e="";return t.hostname?(i.ip6_expression.test(t.hostname)?e+=t.port?"["+t.hostname+"]:"+t.port:t.hostname:(e+=t.hostname,t.port&&(e+=":"+t.port)),e):""},i.buildAuthority=function(t){return i.buildUserinfo(t)+i.buildHost(t)},i.buildUserinfo=function(t){var e="";return t.username&&(e+=i.encode(t.username),t.password&&(e+=":"+i.encode(t.password)),e+="@"),e},i.buildQuery=function(t,e,r){var n="",a,s,u,c;for(s in t)if(m.call(t,s)&&s)if(o(t[s]))for(a={},u=0,c=t[s].length;c>u;u++)void 0!==t[s][u]&&void 0===a[t[s][u]+""]&&(n+="&"+i.buildQueryParameter(s,t[s][u],r),e!==!0&&(a[t[s][u]+""]=!0));else void 0!==t[s]&&(n+="&"+i.buildQueryParameter(s,t[s],r));return n.substring(1)},i.buildQueryParameter=function(t,e,r){return i.encodeQuery(t,r)+(null!==e?"="+i.encodeQuery(e,r):"")},i.addQuery=function(t,e,r){if("object"==typeof e)for(var n in e)m.call(e,n)&&i.addQuery(t,n,e[n]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===t[e])return void(t[e]=r);"string"==typeof t[e]&&(t[e]=[t[e]]),o(r)||(r=[r]),t[e]=t[e].concat(r)}},i.removeQuery=function(t,e,r){var n,a,s;if(o(e))for(n=0,a=e.length;a>n;n++)t[e[n]]=void 0;else if("object"==typeof e)for(s in e)m.call(e,s)&&i.removeQuery(t,s,e[s]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==r?t[e]===r?t[e]=void 0:o(t[e])&&(t[e]=u(t[e],r)):t[e]=void 0}},i.hasQuery=function(t,e,r,n){if("object"==typeof e){for(var a in e)if(m.call(e,a)&&!i.hasQuery(t,a,e[a]))return!1;return!0}if("string"!=typeof e)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(s(r)){case"Undefined":return e in t;case"Boolean":var u=Boolean(o(t[e])?t[e].length:t[e]);return r===u;case"Function":return!!r(t[e],e,t);case"Array":if(!o(t[e]))return!1;var h=n?c:l;return h(t[e],r);case"RegExp":return o(t[e])?n?c(t[e],r):!1:Boolean(t[e]&&t[e].match(r));case"Number":r=String(r);case"String":return o(t[e])?n?c(t[e],r):!1:t[e]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},i.commonPath=function(t,e){var r=Math.min(t.length,e.length),n;for(n=0;r>n;n++)if(t.charAt(n)!==e.charAt(n)){n--;break}return 1>n?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":(("/"!==t.charAt(n)||"/"!==e.charAt(n))&&(n=t.substring(0,n).lastIndexOf("/")),t.substring(0,n+1))},i.withinString=function(t,e,r){r||(r={});var n=r.start||i.findUri.start,a=r.end||i.findUri.end,s=r.trim||i.findUri.trim,o=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var u=n.exec(t);if(!u)break;var c=u.index;if(r.ignoreHtml){var l=t.slice(Math.max(c-3,0),c);if(l&&o.test(l))continue}var h=c+t.slice(c).search(a),p=t.slice(c,h).replace(s,"");if(!r.ignore||!r.ignore.test(p)){h=c+p.length;var d=e(p,c,h,t);t=t.slice(0,c)+d+t.slice(h),n.lastIndex=c+d.length}}return n.lastIndex=0,t},i.ensureValidHostname=function(e){if(e.match(i.invalid_hostname_characters)){if(!t)throw new TypeError("Hostname '"+e+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(t.toASCII(e).match(i.invalid_hostname_characters))throw new TypeError("Hostname '"+e+"' contains characters other than [A-Z0-9.-]")}},i.noConflict=function(t){if(t){var r={URI:this.noConflict()};return URITemplate&&"function"==typeof URITemplate.noConflict&&(r.URITemplate=URITemplate.noConflict()),e&&"function"==typeof e.noConflict&&(r.IPv6=e.noConflict()),SecondLevelDomains&&"function"==typeof SecondLevelDomains.noConflict&&(r.SecondLevelDomains=SecondLevelDomains.noConflict()),r}return n.URI===this&&(n.URI=d),this},f.build=function(t){return t===!0?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this},f.clone=function(){return new i(this)},f.valueOf=f.toString=function(){return this.build(!1)._string},g={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"},y=function(t){return function(e,r){return void 0===e?this._parts[t]||"":(this._parts[t]=e||null,this.build(!r),this)}};for(v in g)f[v]=y(g[v]);g={query:"?",fragment:"#"},y=function(t,e){return function(r,n){return void 0===r?this._parts[t]||"":(null!==r&&(r+="",r.charAt(0)===e&&(r=r.substring(1))),this._parts[t]=r,this.build(!n),this)}};for(v in g)f[v]=y(v,g[v]);g={search:["?","query"],hash:["#","fragment"]},y=function(t,e){return function(r,n){var i=this[t](r,n);return"string"==typeof i&&i.length?e+i:i}};for(v in g)f[v]=y(g[v][1],g[v][0]);f.pathname=function(t,e){if(void 0===t||t===!0){var r=this._parts.path||(this._parts.hostname?"/":"");return t?i.decodePath(r):r}return this._parts.path=t?i.recodePath(t):"/",this.build(!e),this},f.path=f.pathname,f.href=function(t,e){var r;if(void 0===t)return this.toString();this._string="",this._parts=i._parts();var n=t instanceof i,a="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName){var s=i.getDomAttribute(t);t=t[s]||"",a=!1}if(!n&&a&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t)this._parts=i.parse(t,this._parts);else{if(!n&&!a)throw new TypeError("invalid input");var o=n?t._parts:t;for(r in o)m.call(this._parts,r)&&(this._parts[r]=o[r])}return this.build(!e),this},f.is=function(t){var e=!1,n=!1,a=!1,s=!1,o=!1,u=!1,c=!1,l=!this._parts.urn;switch(this._parts.hostname&&(l=!1,n=i.ip4_expression.test(this._parts.hostname),a=i.ip6_expression.test(this._parts.hostname),e=n||a,s=!e,o=s&&r&&r.has(this._parts.hostname),u=s&&i.idn_expression.test(this._parts.hostname),c=s&&i.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case"relative":return l;case"absolute":return!l;case"domain":case"name":return s;case"sld":return o;case"ip":return e;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return a;case"idn":return u;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return c}return null};var b=f.protocol,_=f.port,w=f.hostname;f.protocol=function(t,e){if(void 0!==t&&t&&(t=t.replace(/:(\/\/)?$/,""),!t.match(i.protocol_expression)))throw new TypeError("Protocol '"+t+"' contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return b.call(this,t,e)},f.scheme=f.protocol,f.port=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(t+="",":"===t.charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError("Port '"+t+"' contains characters other than [0-9]");return _.call(this,t,e)},f.hostname=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t){var r={};i.parseHost(t,r),t=r.hostname}return w.call(this,t,e)},f.host=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?i.buildHost(this._parts):"":(i.parseHost(t,this._parts),this.build(!e),this)},f.authority=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?i.buildAuthority(this._parts):"":(i.parseAuthority(t,this._parts),this.build(!e),this)},f.userinfo=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.username)return"";var r=i.buildUserinfo(this._parts);return r.substring(0,r.length-1)}return"@"!==t[t.length-1]&&(t+="@"),i.parseUserinfo(t,this._parts),this.build(!e),this},f.resource=function(t,e){var r;return void 0===t?this.path()+this.search()+this.hash():(r=i.parse(t),this._parts.path=r.path,this._parts.query=r.query,this._parts.fragment=r.fragment,this.build(!e),this)},f.subdomain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,r)||""}var n=this._parts.hostname.length-this.domain().length,s=this._parts.hostname.substring(0,n),o=new RegExp("^"+a(s));return t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&i.ensureValidHostname(t),this._parts.hostname=this._parts.hostname.replace(o,t),this.build(!e),this},f.domain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.match(/\./g);if(r&&r.length<2)return this._parts.hostname;var n=this._parts.hostname.length-this.tld(e).length-1;return n=this._parts.hostname.lastIndexOf(".",n-1)+1,this._parts.hostname.substring(n)||""}if(!t)throw new TypeError("cannot set domain empty");if(i.ensureValidHostname(t),!this._parts.hostname||this.is("IP"))this._parts.hostname=t;else{var s=new RegExp(a(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(s,t)}return this.build(!e),this},f.tld=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf("."),i=this._parts.hostname.substring(n+1);return e!==!0&&r&&r.list[i.toLowerCase()]?r.get(this._parts.hostname)||i:i}var s;if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(t))throw new TypeError("TLD '"+t+"' contains characters other than [A-Z0-9]");s=new RegExp(a(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,t)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");s=new RegExp(a(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,t)}return this.build(!e),this},f.directory=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var r=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,r)||(this._parts.hostname?"/":"");return t?i.decodePath(n):n}var s=this._parts.path.length-this.filename().length,o=this._parts.path.substring(0,s),u=new RegExp("^"+a(o));return this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=i.recodePath(t),this._parts.path=this._parts.path.replace(u,t),this.build(!e),this},f.filename=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r=this._parts.path.lastIndexOf("/"),n=this._parts.path.substring(r+1);return t?i.decodePathSegment(n):n}var s=!1;"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(s=!0);var o=new RegExp(a(this.filename())+"$");return t=i.recodePath(t),this._parts.path=this._parts.path.replace(o,t),s?this.normalizePath(e):this.build(!e),this},f.suffix=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r=this.filename(),n=r.lastIndexOf("."),s,o;return-1===n?"":(s=r.substring(n+1),o=/^[a-z0-9%]+$/i.test(s)?s:"",t?i.decodePathSegment(o):o)}"."===t.charAt(0)&&(t=t.substring(1));var u=this.suffix(),c;if(u)c=t?new RegExp(a(u)+"$"):new RegExp(a("."+u)+"$");else{if(!t)return this;this._parts.path+="."+i.recodePath(t)}return c&&(t=i.recodePath(t),this._parts.path=this._parts.path.replace(c,t)),this.build(!e),this},f.segment=function(t,e,r){var n=this._parts.urn?":":"/",i=this.path(),a="/"===i.substring(0,1),s=i.split(n);if(void 0!==t&&"number"!=typeof t&&(r=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw new Error("Bad segment '"+t+"', must be 0-based integer");if(a&&s.shift(),0>t&&(t=Math.max(s.length+t,0)),void 0===e)return void 0===t?s:s[t];if(null===t||void 0===s[t])if(o(e)){s=[];for(var u=0,c=e.length;c>u;u++)(e[u].length||s.length&&s[s.length-1].length)&&(s.length&&!s[s.length-1].length&&s.pop(),s.push(e[u]))}else(e||"string"==typeof e)&&(""===s[s.length-1]?s[s.length-1]=e:s.push(e));else e||"string"==typeof e&&e.length?s[t]=e:s.splice(t,1);return a&&s.unshift(""),this.path(s.join(n),r)},f.segmentCoded=function(t,e,r){var n,a,s;if("number"!=typeof t&&(r=e,e=t,t=void 0),void 0===e){if(n=this.segment(t,e,r),o(n))for(a=0,s=n.length;s>a;a++)n[a]=i.decode(n[a]);else n=void 0!==n?i.decode(n):void 0;return n}if(o(e))for(a=0,s=e.length;s>a;a++)e[a]=i.decode(e[a]);else e="string"==typeof e?i.encode(e):e;return this.segment(t,e,r)};var x=f.query;return f.query=function(t,e){if(t===!0)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof t){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=t.call(this,r);return this._parts.query=i.buildQuery(n||r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this}return void 0!==t&&"string"!=typeof t?(this._parts.query=i.buildQuery(t,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):x.call(this,t,e)},f.setQuery=function(t,e,r){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof t)for(var a in t)m.call(t,a)&&(n[a]=t[a]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");n[t]=void 0!==e?e:null}return this._parts.query=i.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},f.addQuery=function(t,e,r){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(n,t,void 0===e?null:e),this._parts.query=i.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},f.removeQuery=function(t,e,r){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(n,t,e),this._parts.query=i.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},f.hasQuery=function(t,e,r){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(n,t,e,r)},f.setSearch=f.setQuery,f.addSearch=f.addQuery,f.removeSearch=f.removeQuery,f.hasSearch=f.hasQuery,f.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},f.normalizeProtocol=function(t){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!t)),this},f.normalizeHostname=function(r){return this._parts.hostname&&(this.is("IDN")&&t?this._parts.hostname=t.toASCII(this._parts.hostname):this.is("IPv6")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!r)),this},f.normalizePort=function(t){return"string"==typeof this._parts.protocol&&this._parts.port===i.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},f.normalizePath=function(t){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var e,r=this._parts.path,n="",a,s;for("/"!==r.charAt(0)&&(e=!0,r="/"+r),r=r.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),e&&(n=r.substring(1).match(/^(\.\.\/)+/)||"",n&&(n=n[0]));;){if(a=r.indexOf("/.."),-1===a)break;0!==a?(s=r.substring(0,a).lastIndexOf("/"),-1===s&&(s=a),r=r.substring(0,s)+r.substring(a+3)):r=r.substring(3)}return e&&this.is("relative")&&(r=n+r.substring(1)),r=i.recodePath(r),this._parts.path=r,this.build(!t),this},f.normalizePathname=f.normalizePath,f.normalizeQuery=function(t){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!t)),this},f.normalizeFragment=function(t){return this._parts.fragment||(this._parts.fragment=null,this.build(!t)),this},f.normalizeSearch=f.normalizeQuery,f.normalizeHash=f.normalizeFragment,f.iso8859=function(){var t=i.encode,e=i.decode;return i.encode=escape,i.decode=decodeURIComponent,this.normalize(),i.encode=t,i.decode=e,this},f.unicode=function(){var t=i.encode,e=i.decode;return i.encode=p,i.decode=unescape,this.normalize(),i.encode=t,i.decode=e,this},f.readable=function(){var e=this.clone();e.username("").password("").normalize();var r="";if(e._parts.protocol&&(r+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&t?(r+=t.toUnicode(e._parts.hostname),e._parts.port&&(r+=":"+e._parts.port)):r+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(r+="/"),r+=e.path(!0),e._parts.query){for(var n="",a=0,s=e._parts.query.split("&"),o=s.length;o>a;a++){var u=(s[a]||"").split("=");n+="&"+i.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==u[1]&&(n+="="+i.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}r+="?"+n.substring(1)}return r+=i.decodeQuery(e.hash(),!0)},f.absoluteTo=function(t){var e=this.clone(),r=["protocol","username","password","hostname","port"],n,a,s;if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t instanceof i||(t=new i(t)),e._parts.protocol||(e._parts.protocol=t._parts.protocol),this._parts.hostname)return e;for(a=0;s=r[a];a++)e._parts[s]=t._parts[s];return e._parts.path?".."===e._parts.path.substring(-2)&&(e._parts.path+="/"):(e._parts.path=t._parts.path,e._parts.query||(e._parts.query=t._parts.query)),"/"!==e.path().charAt(0)&&(n=t.directory(),e._parts.path=(n?n+"/":"")+e._parts.path,e.normalizePath()),e.build(),e},f.relativeTo=function(t){var e=this.clone().normalize(),r,n,a,s,o;if(e._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t=new i(t).normalize(),r=e._parts,n=t._parts,s=e.path(),o=t.path(),"/"!==s.charAt(0))throw new Error("URI is already relative");if("/"!==o.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(r.protocol===n.protocol&&(r.protocol=null),r.username!==n.username||r.password!==n.password)return e.build();if(null!==r.protocol||null!==r.username||null!==r.password)return e.build();if(r.hostname!==n.hostname||r.port!==n.port)return e.build();if(r.hostname=null,r.port=null,s===o)return r.path="",e.build();if(a=i.commonPath(e.path(),t.path()),!a)return e.build();var u=n.path.substring(a.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return r.path=u+r.path.substring(a.length),e.build()},f.equals=function(t){var e=this.clone(),r=new i(t),n={},a={},s={},u,c,h;if(e.normalize(),r.normalize(),e.toString()===r.toString())return!0;if(u=e.query(),c=r.query(),e.query(""),r.query(""),e.toString()!==r.toString())return!1;if(u.length!==c.length)return!1;n=i.parseQuery(u,this._parts.escapeQuerySpace),a=i.parseQuery(c,this._parts.escapeQuerySpace);for(h in n)if(m.call(n,h)){if(o(n[h])){if(!l(n[h],a[h]))return!1}else if(n[h]!==a[h])return!1;s[h]=!0}for(h in a)if(m.call(a,h)&&!s[h])return!1;return!0},f.duplicateQueryParameters=function(t){return this._parts.duplicateQueryParameters=!!t,this},f.escapeQuerySpace=function(t){return this._parts.escapeQuerySpace=!!t,this},i}),sumo.define("base64url",[],function(){function t(t,e,r){var n="",a;for(a=0;e-3>=a;a+=3)n+=r.charAt(t.charCodeAt(a)>>>2),n+=r.charAt((3&t.charCodeAt(a))<<4|t.charCodeAt(a+1)>>>4),n+=r.charAt((15&t.charCodeAt(a+1))<<2|t.charCodeAt(a+2)>>>6),n+=r.charAt(63&t.charCodeAt(a+2));return e%3==2?(n+=r.charAt(t.charCodeAt(a)>>>2),n+=r.charAt((3&t.charCodeAt(a))<<4|t.charCodeAt(a+1)>>>4),n+=r.charAt((15&t.charCodeAt(a+1))<<2),n+=i):e%3==1&&(n+=r.charAt(t.charCodeAt(a)>>>2),n+=r.charAt((3&t.charCodeAt(a))<<4),n+=i,n+=i),n}function e(e){var r=unescape(encodeURIComponent(e));return t(r,r.length,n).replace(/=/g,"")}function r(t){return"+"==t?62:"/"==t?63:n.indexOf(t)}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",i="=";return{encode:e}}),sumo.define("color",[],function(){var t={lightOrDark:function(t){var e,r,n,i;return t.toHex&&(t="#"+t.toHex()),t.match(/^rgb/)?(t=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),e=t[1],n=t[2],r=t[3]):(t=+("0x"+t.slice(1).replace(t.length<5&&/./g,"$&$&")),e=t>>16,n=t>>8&255,r=255&t),i=Math.sqrt(.299*(e*e)+.587*(n*n)+.114*(r*r)),i>127.5?"light":"dark"},whiteOrBlack:function(t){return"light"==this.lightOrDark(t)?"black":"white"},shadeColor:function(t,e){t=t.toString();var r=parseInt(t.slice(1),16),n=Math.round(2.55*e),i=(r>>16)+n,a=(r>>8&255)+n,s=(255&r)+n;return"#"+(16777216+65536*(255>i?1>i?0:i:255)+256*(255>a?1>a?0:a:255)+(255>s?1>s?0:s:255)).toString(16).slice(1)},RGBColor:function(t){this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),255]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),parseInt(t[4])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),255]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),255]}}],r=0;r<e.length;r++){var n=e[r].re,i=e[r].process,a=n.exec(t);a&&(channels=i(a),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.a=channels[3],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.a=this.a<0||isNaN(this.a)?0:this.a>255?255:this.a,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),r=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==r.length&&(r="0"+r),"#"+t+e+r}},hexToRGBA:function(t,e){var r=new this.RGBColor(t);return r.a=e||1,r.toRGBA()}};return t}),function(){var r;r=function(t){var e,r;return e=!1,t(function(){var n;return n=(document.body||document.documentElement).style,e=void 0!==n.animation||void 0!==n.WebkitAnimation||void 0!==n.MozAnimation||void 0!==n.MsAnimation||void 0!==n.OAnimation,t(window).bind("resize.vex",function(t){return t&&"resize"==t.type&&t.target!=window?void 0:r.resize()}),t(window).bind("keyup.vex",function(t){return 27===t.keyCode?r.closeByEscape():void 0})}),r={globalID:1,animationEndEvent:"animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",baseClassNames:{vex:"sumome-vex",content:"sumome-vex-content",overlay:"sumome-vex-overlay",close:"sumome-vex-close",closing:"sumome-vex-closing",open:"sumome-vex-open"},defaultOptions:{content:"",showCloseButton:!0,customCloseButton:!1,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",css:{},overlayClassName:"",overlayCSS:{},contentClassName:"",contentCSS:{},closeClassName:"",openClassName:"",closeCSS:{},allowBackgroundScrolling:!1},open:function(e){return e=t.extend({},r.defaultOptions,e),e.id=r.globalID,r.globalID+=1,e.$vex=t("<div>").addClass(r.baseClassNames.vex).addClass(e.className).css(e.css).data({
vex:e}),e.openClassName&&e.$vex.addClass(e.openClassName),e.allowBackgroundScrolling||r.setupHTMLClassName(e.$vex),e.$vexOverlay=t("<div>").addClass(r.baseClassNames.overlay).addClass(e.overlayClassName).css(e.overlayCSS).data({vex:e}),e.overlayClosesOnClick&&e.$vexOverlay.bind("click.vex",function(e){return e.target===this?r.close(t(this).data().vex.id):void 0}),e.$vex.append(e.$vexOverlay),e.$vexContent=t("<div>").addClass(r.baseClassNames.content).addClass(e.contentClassName).css(e.contentCSS).append(e.content).data({vex:e}),e.$vexContent.find("link").bind("load.vex",function(t){return r.resize()}),e.$vexContent.bind("resize.vex",function(t){return r.resize()}),e.$vex.append(e.$vexContent),e.customCloseButton?e.showCloseButton&&(e.$closeButton=e.$vexContent.find("."+e.closeClassName).eq(0).data({vex:e}).bind("click.vex",function(){return r.close(t(this).data().vex.id)})):e.showCloseButton&&(e.$closeButton=t("<div>").addClass(r.baseClassNames.close).addClass(e.closeClassName).css(e.closeCSS).data({vex:e}).bind("click.vex",function(){return r.close(t(this).data().vex.id)}),e.$vexContent.append(e.$closeButton)),t(e.appendLocation).append(e.$vex),e.afterOpen&&e.afterOpen(e.$vexContent,e),setTimeout(function(){return e.$vexContent.trigger("vexOpen",e)},0),e.$vexContent},getAllVexes:function(){return t("."+r.baseClassNames.vex+':not(".'+r.baseClassNames.closing+'") .'+r.baseClassNames.content)},getVexByID:function(e){return r.getAllVexes().filter(function(){return t(this).data().vex.id===e})},close:function(t){var e;if(!t){if(e=r.getAllVexes().last(),!e.length)return!1;t=e.data().vex.id}return r.closeByID(t)},closeAll:function(){var e;return e=r.getAllVexes().map(function(){return t(this).data().vex.id}).toArray(),(null!=e?e.length:void 0)?(t.each(e.reverse(),function(t,e){return r.closeByID(e)}),!0):!1},closeByID:function(n){var i,a,s,o,u;return a=r.getVexByID(n),a.length?(i=a.data().vex.$vex,u=t.extend({},a.data().vex),s=function(){return u.beforeClose?u.beforeClose(a,u):void 0},o=function(){return a.trigger("vexClose",u),i.remove(),u.afterClose?u.afterClose(a,u):void 0},e?(s(),i.unbind(r.animationEndEvent).bind(r.animationEndEvent,function(){return o()}).addClass(r.baseClassNames.closing)):(s(),o()),!0):void 0},resizeByID:function(e){var n,i,a,s,o;return i=r.getVexByID(e),i.length?(n=i.data().vex.$vex,o=t.extend({},i.data().vex),i.trigger("vexResize",o),!0):void 0},resize:function(){var e,n,i;return i=r.getAllVexes().map(function(){return t(this).data().vex.id}).toArray(),(null!=i?i.length:void 0)?(n=Math.max.apply(Math,i),e=r.getVexByID(n),r.resizeByID(n)):!1},closeByEscape:function(){var e,n,i;return i=r.getAllVexes().map(function(){return t(this).data().vex.id}).toArray(),(null!=i?i.length:void 0)?(n=Math.max.apply(Math,i),e=r.getVexByID(n),e.data().vex.escapeButtonCloses!==!0?!1:r.closeByID(n)):!1},setupHTMLClassName:function(e){return e.bind("vexOpen.vex",function(){return t("html").addClass(r.baseClassNames.open)}).bind("vexClose.vex",function(){return r.getAllVexes().length?void 0:t("html").removeClass(r.baseClassNames.open)})},hideLoading:function(){return t(".vex-loading-spinner").remove()},showLoading:function(){return r.hideLoading(),t("body").append('<div class="vex-loading-spinner '+r.defaultOptions.className+'"></div>')}}},"function"==typeof sumo.define&&sumo.define.amd?sumo.define("vex",["jquery"],r):"object"==typeof t?e.exports=r(require("jquery")):window.vex=r(jQuery)}.call(this),sumo.define("htmlParser",[],function(){function t(t,s){t=t||"",s=s||{};for(var o in e)e.hasOwnProperty(o)&&(s.autoFix&&(s["fix_"+o]=!0),s.fix=s.fix||s["fix_"+o]);var u=[],c=document.createElement("div"),l=function(t){return"string"==typeof t&&-1!==t.indexOf("&")?(c.innerHTML=t,c.textContent||c.innerText||t):t},h=function(e){t+=e},p=function(e){t=e+t},d={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},f={comment:function(){var e=t.indexOf("-->");return e>=0?{content:t.substr(4,e-1),length:e+3}:void 0},endTag:function(){var e=t.match(n);return e?{tagName:e[1],length:e[0].length}:void 0},atomicTag:function(){var e=f.startTag();if(e){var r=t.slice(e.length);if(r.match(new RegExp("</\\s*"+e.tagName+"\\s*>","i"))){var n=r.match(new RegExp("([\\s\\S]*?)</\\s*"+e.tagName+"\\s*>","i"));if(n)return{tagName:e.tagName,attrs:e.attrs,content:n[1],length:n[0].length+e.length}}}},startTag:function(){var e=t.indexOf(">");if(-1===e)return null;var n=t.match(r);if(n){var s={},o={},u=n[2];return n[2].replace(i,function(t,e){if(arguments[2]||arguments[3]||arguments[4]||arguments[5])if(arguments[5])s[arguments[5]]="",o[e]=!0;else{var r=arguments[2]||arguments[3]||arguments[4]||a.test(e)&&e||"";s[e]=l(r)}else s[e]=null;u=u.replace(t,"")}),{tagName:n[1],attrs:s,booleanAttrs:o,rest:u,unary:!!n[3],length:n[0].length}}},chars:function(){var e=t.indexOf("<");return{length:e>=0?e:t.length}}},m=function(){for(var e in d)if(d[e].test(t)){var r=f[e]();return r?(r.type=r.type||e,r.text=t.substr(0,r.length),t=t.slice(r.length),r):null}},g=function(t){for(var e;e=m();)if(t[e.type]&&t[e.type](e)===!1)return},v=function(){var e=t;return t="",e},y=function(){return t};return s.fix&&!function(){var e=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,r=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i,n=[];n.last=function(){return this[this.length-1]},n.lastTagNameEq=function(t){var e=this.last();return e&&e.tagName&&e.tagName.toUpperCase()===t.toUpperCase()},n.containsTagName=function(t){for(var e=0,r;r=this[e];e++)if(r.tagName===t)return!0;return!1};var i=function(t){return t&&"startTag"===t.type&&(t.unary=e.test(t.tagName)||t.unary,t.html5Unary=!/\/>$/.test(t.text)),t},a=m,o=function(){var e=t,r=i(a());return t=e,r},u=function(){var t=n.pop();p("</"+t.tagName+">")},c={startTag:function(t){var e=t.tagName;"TR"===e.toUpperCase()&&n.lastTagNameEq("TABLE")?(p("<TBODY>"),h()):s.fix_selfClose&&r.test(e)&&n.containsTagName(e)?n.lastTagNameEq(e)?u():(p("</"+t.tagName+">"),h()):t.unary||n.push(t)},endTag:function(t){var e=n.last();e?s.fix_tagSoup&&!n.lastTagNameEq(t.tagName)?u():n.pop():s.fix_tagSoup&&l()}},l=function(){a(),h()},h=function(){var t=o();t&&c[t.type]&&c[t.type](t)};m=function(){return h(),i(a())}}(),{append:h,readToken:m,readTokens:g,clear:v,rest:y,stack:u}}var e=function(){var t={},e,r=window.document.createElement("div");return e="<P><I></P></I>",r.innerHTML=e,t.tagSoup=r.innerHTML!==e,r.innerHTML="<P><i><P></P></i></P>",t.selfClose=2===r.childNodes.length,t}(),r=/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,n=/^<\/([\-A-Za-z0-9_]+)[^>]*>/,i=/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,a=/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i,s=!1;t.supports=e,t.tokenToString=function(t){var e={comment:function(t){return"<!--"+t.content},endTag:function(t){return"</"+t.tagName+">"},atomicTag:function(t){return e.startTag(t)+t.content+e.endTag(t)},startTag:function(t){var e="<"+t.tagName;for(var r in t.attrs){e+=" "+r;var n=t.attrs[r];("undefined"==typeof t.booleanAttrs||"undefined"==typeof t.booleanAttrs[r])&&(e+='="'+(n?n.replace(/(^|[^\\])"/g,'$1\\"'):"")+'"')}return t.rest&&(e+=t.rest),e+(t.unary&&!t.html5Unary?"/>":">")},chars:function(t){return t.text}};return e[t.type](t)},t.escapeAttributes=function(t){var e={};for(var r in t){var n=t[r];e[r]=n&&n.replace(/(^|[^\\])"/g,'$1\\"')}return e};for(var o in e)t.browserHasFlaw=t.browserHasFlaw||!e[o]&&o;return t}),sumo.define("postscribe",["htmlParser"],function(t){function e(){}function r(t){return t!==p&&null!==t}function n(t){return"function"==typeof t}function i(t,e,r){var n,i=t&&t.length||0;for(n=0;i>n;n++)e.call(r,t[n],n)}function a(t,e,r){var n;for(n in t)t.hasOwnProperty(n)&&e.call(r,n,t[n])}function s(t,e){return a(e,function(e,r){t[e]=r}),t}function o(t,e){return t=t||{},a(e,function(e,n){r(t[e])||(t[e]=n)}),t}function u(t){try{return f.call(t)}catch(e){var r=[];return i(t,function(t){r.push(t)}),r}}function c(t){return t&&"tagName"in t?!!~t.tagName.toLowerCase().indexOf("script"):!1}function l(t){return t&&"tagName"in t?!!~t.tagName.toLowerCase().indexOf("style"):!1}var h={afterAsync:e,afterDequeue:e,afterStreamStart:e,afterWrite:e,autoFix:!0,beforeEnqueue:e,beforeWriteToken:function(t){return t},beforeWrite:function(t){return t},done:e,error:function(t){throw t},releaseAsync:!1},p=void 0,d=!1,f=Array.prototype.slice,m=function(t){return t[t.length-1]},g=function(){function e(t,e,n){var i=h+e;if(2===arguments.length){var a=t.getAttribute(i);return r(a)?String(a):a}r(n)&&""!==n?t.setAttribute(i,n):t.removeAttribute(i)}function o(r,n){var i=r.ownerDocument;s(this,{root:r,options:n,win:i.defaultView||i.parentWindow,doc:i,parser:t("",{autoFix:n.autoFix}),actuals:[r],proxyHistory:"",proxyRoot:i.createElement(r.nodeName),scriptStack:[],writeQueue:[]}),e(this.proxyRoot,"proxyof",0)}var h="data-ps-";return o.prototype.write=function(){[].push.apply(this.writeQueue,arguments);for(var t;!this.deferredRemote&&this.writeQueue.length;)t=this.writeQueue.shift(),n(t)?this.callFunction(t):this.writeImpl(t)},o.prototype.callFunction=function(t){var e={type:"function",value:t.name||t.toString()};this.onScriptStart(e),t.call(this.win,this.doc),this.onScriptDone(e)},o.prototype.writeImpl=function(t){this.parser.append(t);for(var e,r=[],n,i;(e=this.parser.readToken())&&!(n=c(e))&&!(i=l(e));)e=this.options.beforeWriteToken(e),e&&r.push(e);this.writeStaticTokens(r),n&&this.handleScriptToken(e),i&&this.handleStyleToken(e)},o.prototype.writeStaticTokens=function(t){var e=this.buildChunk(t);if(e.actual)return e.html=this.proxyHistory+e.actual,this.proxyHistory+=e.proxy,this.proxyRoot.innerHTML=e.html,d&&(e.proxyInnerHTML=this.proxyRoot.innerHTML),this.walkChunk(),d&&(e.actualInnerHTML=this.root.innerHTML),e},o.prototype.buildChunk=function(e){var r=this.actuals.length,n=[],a=[],s=[];return i(e,function(e){var i=t.tokenToString(e);if(n.push(i),e.attrs){if(!/^noscript$/i.test(e.tagName)){var o=r++;a.push(i.replace(/(\/?>)/," "+h+"id="+o+" $1")),"ps-script"!==e.attrs.id&&"ps-style"!==e.attrs.id&&s.push("atomicTag"===e.type?"":"<"+e.tagName+" "+h+"proxyof="+o+(e.unary?" />":">"))}}else a.push(i),s.push("endTag"===e.type?i:"")}),{tokens:e,raw:n.join(""),actual:a.join(""),proxy:s.join("")}},o.prototype.walkChunk=function(){for(var t,n=[this.proxyRoot];r(t=n.shift());){var i=1===t.nodeType,a=i&&e(t,"proxyof");if(!a){i&&(this.actuals[e(t,"id")]=t,e(t,"id",null));var s=t.parentNode&&e(t.parentNode,"proxyof");s&&this.actuals[s].appendChild(t)}n.unshift.apply(n,u(t.childNodes))}},o.prototype.handleScriptToken=function(t){var e=this.parser.clear();if(e&&this.writeQueue.unshift(e),t.src=t.attrs.src||t.attrs.SRC,t=this.options.beforeWriteToken(t)){t.src&&this.scriptStack.length?this.deferredRemote=t:this.onScriptStart(t);var r=this;this.writeScriptToken(t,function(){r.onScriptDone(t)})}},o.prototype.handleStyleToken=function(t){var e=this.parser.clear();e&&this.writeQueue.unshift(e),t.type=t.attrs.type||t.attrs.TYPE||"text/css",t=this.options.beforeWriteToken(t),t&&this.writeStyleToken(t),e&&this.write()},o.prototype.writeStyleToken=function(t){var e=this.buildStyle(t);this.insertStyle(e),t.content&&(e.styleSheet&&!e.sheet?e.styleSheet.cssText=t.content:e.appendChild(this.doc.createTextNode(t.content)))},o.prototype.buildStyle=function(t){var e=this.doc.createElement(t.tagName);return e.setAttribute("type",t.type),a(t.attrs,function(t,r){e.setAttribute(t,r)}),e},o.prototype.insertStyle=function(t){this.writeImpl('<span id="ps-style"/>');var e=this.doc.getElementById("ps-style");e.parentNode.replaceChild(t,e)},o.prototype.onScriptStart=function(t){t.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(t)},o.prototype.onScriptDone=function(t){return t!==this.scriptStack[0]?void this.options.error({message:"Bad script nesting or script finished twice"}):(this.scriptStack.shift(),this.write.apply(this,t.outerWrites),void(!this.scriptStack.length&&this.deferredRemote&&(this.onScriptStart(this.deferredRemote),this.deferredRemote=null)))},o.prototype.writeScriptToken=function(t,e){var r=this.buildScript(t),n=this.shouldRelease(r),i=this.options.afterAsync;t.src&&(r.src=t.src,this.scriptLoadHandler(r,n?i:function(){e(),i()}));try{this.insertScript(r),(!t.src||n)&&e()}catch(a){this.options.error(a),e()}},o.prototype.buildScript=function(t){var e=this.doc.createElement(t.tagName);return a(t.attrs,function(t,r){e.setAttribute(t,r)}),t.content&&(e.text=t.content),e},o.prototype.insertScript=function(t){this.writeImpl('<span id="ps-script"/>');var e=this.doc.getElementById("ps-script");e.parentNode.replaceChild(t,e)},o.prototype.scriptLoadHandler=function(t,e){function r(){t=t.onload=t.onreadystatechange=t.onerror=null}function n(){r(),e()}function i(t){r(),a(t),e()}var a=this.options.error;s(t,{onload:function(){n()},onreadystatechange:function(){/^(loaded|complete)$/.test(t.readyState)&&n()},onerror:function(){i({message:"remote script failed "+t.src})}})},o.prototype.shouldRelease=function(t){var e=/^script$/i.test(t.nodeName);return!e||!!(this.options.releaseAsync&&t.src&&t.hasAttribute("async"))},o}(),v=function(){function t(){var t=c.shift(),e;t&&(e=m(t),e.afterDequeue(),t.stream=r.apply(null,t),e.afterStreamStart())}function r(r,n,o){function c(t){t=o.beforeWrite(t),l.write(t),o.afterWrite(t)}l=new g(r,o),l.id=a++,l.name=o.name||l.id,i.streams[l.name]=l;var h=r.ownerDocument,p={close:h.close,open:h.open,write:h.write,writeln:h.writeln};s(h,{close:e,open:e,write:function(){return c(u(arguments).join(""))},writeln:function(){return c(u(arguments).join("")+"\n")}});var d=l.win.onerror||e;return l.win.onerror=function(t,e,r){o.error({msg:t+" - "+e+":"+r}),d.apply(l.win,arguments)},l.write(n,function f(){s(h,p),l.win.onerror=d,o.done(),l=null,t()}),l}function i(r,i,a){n(a)&&(a={done:a}),a=o(a,h),r=/^#/.test(r)?window.document.getElementById(r.substr(1)):r.jquery?r[0]:r;var s=[r,i,a];return r.postscribe={cancel:function(){s.stream?s.stream.abort():s[1]=e}},a.beforeEnqueue(s),c.push(s),l||t(),r.postscribe}var a=0,c=[],l=null;return s(i,{streams:{},queue:c,WriteStream:g})}(),y={postscribe:v};return y}),function(t){"function"==typeof sumo.define&&sumo.define.amd?sumo.define("jquery.cookie",["jquery"],t):t(jQuery)}(function(t){function e(t){return o.raw?t:encodeURIComponent(t)}function r(t){return o.raw?t:decodeURIComponent(t)}function n(t){return e(o.json?JSON.stringify(t):String(t))}function i(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{t=decodeURIComponent(t.replace(s," "))}catch(e){return}try{return o.json?JSON.parse(t):t}catch(e){}}function a(e,r){var n=o.raw?e:i(e);return t.isFunction(r)?r(n):n}var s=/\+/g,o=t.cookie=function(i,s,u){if(void 0!==s&&!t.isFunction(s)){if(u=t.extend({},o.defaults,u),"number"==typeof u.expires){var c=u.expires,l=u.expires=new Date;l.setDate(l.getDate()+c)}return document.cookie=[e(i),"=",n(s),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join("")}for(var h=i?void 0:{},p=document.cookie?document.cookie.split("; "):[],d=0,f=p.length;f>d;d++){var m=p[d].split("="),g=r(m.shift()),v=m.join("=");if(i&&i===g){h=a(v,s);break}i||void 0===(v=a(v))||(h[g]=v)}return h};o.defaults={},t.removeCookie=function(e,r){return void 0!==t.cookie(e)?(t.cookie(e,"",t.extend({},r,{expires:-1})),!0):!1}}),function(r,n){function i(t){return!!(""===t||t&&t.charCodeAt&&t.substr)}function a(t){return d?d(t):"[object Array]"===f.call(t)}function s(t){return t&&"[object Object]"===f.call(t)}function o(t,e){var r;t=t||{},e=e||{};for(r in e)e.hasOwnProperty(r)&&null==t[r]&&(t[r]=e[r]);return t}function u(t,e,r){var n=[],i,a;if(!t)return n;if(p&&t.map===p)return t.map(e,r);for(i=0,a=t.length;a>i;i++)n[i]=e.call(r,t[i],i,t);return n}function c(t,e){return t=Math.round(Math.abs(t)),isNaN(t)?e:t}function l(t){var e=h.settings.currency.format;return"function"==typeof t&&(t=t()),i(t)&&t.match("%v")?{pos:t,neg:t.replace("-","").replace("%v","-%v"),zero:t}:t&&t.pos&&t.pos.match("%v")?t:i(e)?h.settings.currency.format={pos:e,neg:e.replace("%v","-%v"),zero:e}:e}var h={};h.version="0.4.1",h.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var p=Array.prototype.map,d=Array.isArray,f=Object.prototype.toString,m=h.unformat=h.parse=function(t,e){if(a(t))return u(t,function(t){return m(t,e)});if(t=t||0,"number"==typeof t)return t;e=e||h.settings.number.decimal;var r=new RegExp("[^0-9-"+e+"]",["g"]),n=parseFloat((""+t).replace(/\((.*)\)/,"-$1").replace(r,"").replace(e,"."));return isNaN(n)?0:n},g=h.toFixed=function(t,e){e=c(e,h.settings.number.precision);var r=Math.pow(10,e);return(Math.round(h.unformat(t)*r)/r).toFixed(e)},v=h.formatNumber=h.format=function(t,e,r,n){if(a(t))return u(t,function(t){return v(t,e,r,n)});t=m(t);var i=o(s(e)?e:{precision:e,thousand:r,decimal:n},h.settings.number),l=c(i.precision),p=0>t?"-":"",d=parseInt(g(Math.abs(t||0),l),10)+"",f=d.length>3?d.length%3:0;return p+(f?d.substr(0,f)+i.thousand:"")+d.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+i.thousand)+(l?i.decimal+g(Math.abs(t),l).split(".")[1]:"")},y=h.formatMoney=function(t,e,r,n,i,p){if(a(t))return u(t,function(t){return y(t,e,r,n,i,p)});t=m(t);var d=o(s(e)?e:{symbol:e,precision:r,thousand:n,decimal:i,format:p},h.settings.currency),f=l(d.format),g=t>0?f.pos:0>t?f.neg:f.zero;return g.replace("%s",d.symbol).replace("%v",v(Math.abs(t),c(d.precision),d.thousand,d.decimal))};h.formatColumn=function(t,e,r,n,p,d){if(!t)return[];var f=o(s(e)?e:{symbol:e,precision:r,thousand:n,decimal:p,format:d},h.settings.currency),g=l(f.format),y=g.pos.indexOf("%s")<g.pos.indexOf("%v")?!0:!1,b=0,_=u(t,function(t,e){if(a(t))return h.formatColumn(t,f);t=m(t);var r=t>0?g.pos:0>t?g.neg:g.zero,n=r.replace("%s",f.symbol).replace("%v",v(Math.abs(t),c(f.precision),f.thousand,f.decimal));return n.length>b&&(b=n.length),n});return u(_,function(t,e){return i(t)&&t.length<b?y?t.replace(f.symbol,f.symbol+new Array(b-t.length+1).join(" ")):new Array(b-t.length+1).join(" ")+t:t})},"undefined"!=typeof t?("undefined"!=typeof e&&e.exports&&(t=e.exports=h),t.accounting=h):"function"==typeof sumo.define&&sumo.define.amd?sumo.define("accounting",[],function(){return h}):(h.noConflict=function(t){return function(){return r.accounting=t,h.noConflict=n,h}}(r.accounting),r.accounting=h)}(this),sumo.define("jquery.style",["jquery"],function(t){if(!t.fn.style){var e=function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},r=!!CSSStyleDeclaration.prototype.getPropertyValue;r||(CSSStyleDeclaration.prototype.getPropertyValue=function(t){return this.getAttribute(t)},CSSStyleDeclaration.prototype.setProperty=function(t,r,n){this.setAttribute(t,r);var n="undefined"!=typeof n?n:"";if(""!=n){var i=new RegExp(e(t)+"\\s*:\\s*"+e(r)+"(\\s*;)?","gmi");this.cssText=this.cssText.replace(i,t+": "+r+" !"+n+";")}},CSSStyleDeclaration.prototype.removeProperty=function(t){return this.removeAttribute(t)},CSSStyleDeclaration.prototype.getPropertyPriority=function(t){var r=new RegExp(e(t)+"\\s*:\\s*[^\\s]*\\s*!important(\\s*;)?","gmi");return r.test(this.cssText)?"important":""}),t.fn.style=function(t,e,r){var n=this.get(0);if("undefined"==typeof n)return this;var i=this.get(0).style;return"undefined"!=typeof t?"undefined"!=typeof e?(r="important"==r?r:"","important"!=r&&"important"==i.getPropertyPriority(t)&&i.removeProperty(t),i.setProperty(t,e,r),this):i.getPropertyValue(t):i}}}),sumo.define("jquery.article",["jquery"],function(t){t.expr[":"].emptytext=t.expr.createPseudo(function(e){return function(e){return""===t.trim(t(e).text())}}),t.fn.findIncludeSelf=function(e,r){var n;return n=":has(> p + p + p)"==e?this.find("p + p + p").parent():this.find(e),t(this).is(r)?n:n.addBack(e)},t.fn.exists=function(){return 0!==this.length},t.fn.findLeaves=function(r,n){var i=t(this),a=i.findIncludeSelf(r,"body").filter(n);return a=a.filter(e),a.filter(function(){return!t(this).find(a).exists()})},t.fn.findTrunks=function(r,n){var i=t(this),a=i.findIncludeSelf(r,"body").filter(n);return a=a.filter(e),a.filter(function(){return!t(this).parents().filter(a).exists()})};var e=function(){if(this._header||(this._header=n(t(this))),this._titleText||(this._titleText=s(this)),this._header){var e=.666*t(this).outerHeight();if(e&&this._header.outerHeight()>=e)return!1}return!0},r=function(e){var r=e||t("body").find("main, [role=main]").eq(0).get(0)||"body",n=t(),i=':not("[class^=comment],[id^=comment],[class*=footer],.sidebar:not(body) *,aside *,#sidebar *,footer *,[class*=footer]:not(body, [class*=not-footer]) *,#comments *,#livefyre-comments *,[class^=fyre] *,[class^=comment],[id^=comment] *,[class*=related-post]:not(body) *,.archive-page,.aside,.hentry-metro,.hrf-entry,:emptytext,.tve-leads-lightbox article")',a=[];a.push("article"),a.push(".post"),a.push(".entry-content"),a.push(".post-content"),a.push(".post_box"),a.push(".post-item"),a.push(".blog-post-wrapper"),a.push(".type-post"),a.push("#content"),a.push(".blog_content"),"body"!=r?(a.push(".hentry"),a.push(".content")):(a.push("main .hentry"),a.push("[role=main] .hentry"),a.push("main .content"),a.push("[role=main] .content")),a.push("#post-content"),a.push("#blog-content"),a.push(".blog-post");for(var s=[":has(> p + p + p)"],o=0;o<a.length;o++)if(n=t(r).findLeaves(a[o],i),n.length>0)return n;for(var o=0;o<s.length;o++)if(n=t(r).findTrunks(s[o],i),n.length>0)return n;var n,u,c,l;return n},n=function(e){var r=null,n=[".main-title","header",".post-header",".post-title","h1","h2","h3","h4","h5","h6",".title",".headline"],i={};try{n.forEach(function(n){if(r=t(e).find(n),r.length>0)throw i})}catch(a){if(a===i)return r.eq(0);throw a}return null},i=function(e){var r=null,n=[".fyre","footer",".post-footer",".footer",".entry-footer",'[class^="comment"]:not(.post-meta-info *, [class^=comment-count], [class^=comments-link], [class^=comments-number], li)',".fb-comments","iframe[title=Disqus]","#disqus_thread"],i={};try{n.forEach(function(n){if(r=t(e).find(n),r.length>0)throw i})}catch(a){if(a===i)return r.eq(0).hasClass("fb-comments")&&r.eq(0).prev("h3 + p").length>0?r.eq(0).prev("h3 + p").prev("h3"):r.eq(0);throw a}return null},a=function(t){return n(t)},s=function(t){var e=null;return!t._title&&t._header&&(t._title=t._header),t._title&&(e=t._title.text().trim()),e},o=function(e){var r=null,n=["a[rel=bookmark]","h1 > a","h2 > a","h3 > a","header > a"],i={};try{n.forEach(function(n){if(r=t(e).find(n).filter("[href]"),r.length>0)throw i})}catch(a){if(a===i)return r.eq(0);throw a}return null};t.articles=function(e){if("__smCache"in window&&"articles"in window.__smCache)return window.__smCache.articles;var u=r(e);return u.each(function(){this._header||(this._header=n(t(this))),this._footer=i(t(this)),this._title=this._header?a(this._header):null,this._titleText||(this._titleText=s(this));var e=this._header?o(this._header):null;e?this._anchor=e:this._anchor=o(t(this)),this._anchor?this._url=this._anchor.attr("href"):this._url=null,this._url||(this._url=window.location.href)}),"__smDebug"in window&&window.__smDebug&&u.each(function(){t(this).css("background","rgba(0,0,255,.5)"),this._header&&this._header.css("background","rgba(0,255,0,.5)"),this._title&&this._title.css("background","rgba(255,0,0,.5)"),this._footer&&this._footer.css("background","rgba(255,255,0,.5)")}),"__smCache"in window||(window.__smCache={}),window.__smCache.articles=u,setTimeout(function(){"__smCache"in window&&delete window.__smCache.articles},1e4),u},t.article=function(){return t.articles().eq(0)}}),sumo.define("jquery.displayrules",["jquery","URI","jquery.article"],function(t,e){t.isCurrentUrlAllowed=function(r,n,i,a){function s(t,e,r,n){var i=[];if(t&&t.length)for(var a=0;a<t.length;a++){var s=t[a];if("object"==typeof s&&s.hasOwnProperty(e)&&s[e]==r&&(i.push(s),n))return i[0]}return n?null:i}if(r&&r.length){var o=s(r,"filter_type","article",!0),u=[];o&&(u=t.articles()),i||(i=!1);var c=function(t){for(var e=Object.keys(t),r=e.length,n=Array(r),i=0;r>i;i++)n[i]=[e[i],t[e[i]]];return n},l=function(t){var e=c(t),r=e.length;return function(t){if(null==t)return!r;t=new Object(t);for(var n=0;r>n;n++){var i=e[n],a=i[0];if(i[1]!==t[a]||!(a in t))return!1}return!0}},h=function(t){var t=t.substr(1).split("&");if(""==t)return{};for(var e={},r=0;r<t.length;++r){var n=t[r].split("=",2);if(1==n.length)e[n[0]]="";else try{e[n[0]]=decodeURIComponent(n[1].replace(/\+/g," "))}catch(i){e[n[0]]=n[1].replace(/\+/g," ")}}return e},p=function(t,e,r){if(t.has_hash&&t.hash!=e)return!1;if(t.has_query_params){var n=h(t.search),i=h(r),a=l(n);if(a(i))return!0;if(!(["containing","beginning"].indexOf(t.filter_type)>=0))return!1;for(var s=!0,o=Object.keys(n),u=0;u<o.length;u++){var c=o[u],p=n[o[u]];if(p&&p.length)if(c in i){if(0!=i[c].indexOf(p))return!1}else{if("containing"!=t.filter_type)return!1;var d=!1;if(Object.keys(i).forEach(function(t){t.lastIndexOf(c)>=0&&c==t.substring(t.lastIndexOf(c))&&0==i[t].indexOf(p)&&(d=!0)}),!d)return!1}else{if(c in i)continue;for(var f=Object.keys(i),d=!1,m=0;m<f.length;m++){var g=f[m];if(0==g.indexOf(c)){d=!0;break}}if(!d)return!1}}}return!0},d=s(r,"parsedUserAgent",!0,!0),f=window.location.toString();f&&(f=f.toLowerCase());var m=window.location.pathname.toString();m&&(m=m.toLowerCase());var g=window.location.hostname+m;g&&(g=g.toLowerCase()),"/"==m[m.length-1]&&(m=m.substring(0,m.length-1),g=g.substring(0,g.length-1)),0==g.indexOf("www.")&&(g=g.substring(4));var v=window.location.search;v&&(v=v.toLowerCase());var y=window.location.hash;y&&(y=y.toLowerCase(),"#"!=y[0]&&(y="#"+y));for(var b=h(v),_=Math.min(window.screen.availWidth||t(window).width(),t(window).width()),w=document.cookie.split(";"),x={},C=[],S=0;S<w.length;S++){var I=w[S].substring(0,w[S].indexOf("=")).trim(),A=w[S].substring(w[S].indexOf("=")+1).trim();C.push(I),x[I]=A}var T=document.getElementsByTagName("meta"),k=document.referrer;if(k&&k.length){k=k.toLowerCase();try{var O=e(k);if(O.is("ip")){var q=O.hostname();q&&(q=q.toLowerCase())}else{var q=O.domain();q&&(q=q.toLowerCase())}var P=O.path();P&&(P=P.toLowerCase());var B=O.tld();B&&(B=B.toLowerCase());var N=O.hostname()?O.hostname().toLowerCase()+P:P;"/"==P[P.length-1]&&(P=P.substring(0,P.length-1),N=N.substring(0,N.length-1)),0==N.indexOf("www.")&&(N=N.substring(4));var E=O.search(),Q=O.hash()}catch(R){k=!1}}else k=!1;var $=function(e){var r=!1;return t.each(e,function(t,e){var n=!1;return e.forEach(function(t){var e=!1;if(!n)if("article"==t.filter_type)1==u.length&&(e=!0);else if("smaller"==t.filter_type)(isNaN(parseFloat(t.filter_value))||_<parseFloat(t.filter_value))&&(e=!0);else if("bigger"==t.filter_type)(isNaN(parseFloat(t.filter_value))||_>=parseFloat(t.filter_value))&&(e=!0);else if("views_lt"==t.filter_type)(isNaN(t.pageviews)||a<t.pageviews)&&(e=!0);else if("views_eq"==t.filter_type)(isNaN(t.pageviews)||a==t.pageviews)&&(e=!0);else if("views_gt"==t.filter_type)(isNaN(t.pageviews)||a>t.pageviews)&&(e=!0);else if("countryis"==t.filter_type)i==t.filter_value.toLowerCase()&&(e=!0);else if("countryisnot"==t.filter_type)i&&i==t.filter_value.toLowerCase()||(e=!0);else if("c_exists"==t.filter_type)C.indexOf(t.filter_value)>=0&&(e=!0);else if("c_dne"==t.filter_type)C.indexOf(t.filter_value)<0&&(e=!0);else if("c_equals"==t.filter_type)C.indexOf(t.filter_value)>=0&&x[t.filter_value]==t.param_value&&(e=!0);else if("c_notequals"==t.filter_type)(C.indexOf(t.filter_value)<0||x[t.filter_value]!=t.param_value)&&(e=!0);else if("c_contains"==t.filter_type)C.indexOf(t.filter_value)>=0&&x[t.filter_value].indexOf(t.param_value)>=0&&(e=!0);else if("c_notcontains"==t.filter_type)(C.indexOf(t.filter_value)<0||x[t.filter_value].indexOf(t.param_value)<0)&&(e=!0);else if("mt_equals"===t.filter_type)for(var r=0;r<T.length;r++){var s=T[r].getAttribute(t.filter_value);s&&s.toLowerCase()===t.param_value&&(e=!0)}else if("mt_notequals"===t.filter_type){for(var o=!1,r=0;r<T.length;r++){var s=T[r].getAttribute(t.filter_value);s&&s.toLowerCase()===t.param_value&&(o=!0)}e=!o}else if("mt_contains"===t.filter_type)for(var r=0;r<T.length;r++){var s=T[r].getAttribute(t.filter_value);s&&-1!==s.toLowerCase().indexOf(t.param_value)&&(e=!0)}else if("mt_notcontains"===t.filter_type){for(var o=!1,r=0;r<T.length;r++){var s=T[r].getAttribute(t.filter_value);s&&-1!==s.toLowerCase().indexOf(t.param_value)&&(o=!0)}e=!o}else if("mt_beginning"===t.filter_type)for(var r=0;r<T.length;r++){var s=T[r].getAttribute(t.filter_value);s&&s.toLowerCase().substring(0,t.param_value.length)===t.param_value&&(e=!0)}else if("q_exists"==t.filter_type)b&&b.hasOwnProperty(t.filter_value.toLowerCase())&&(e=!0);else if("q_dne"==t.filter_type)b&&b.hasOwnProperty(t.filter_value)||(e=!0);else if("q_equals"==t.filter_type)b&&b[t.filter_value]&&b[t.filter_value]==t.param_value&&(e=!0);else if("q_notequals"==t.filter_type)b&&b[t.filter_value]&&b[t.filter_value]==t.param_value||(e=!0);else if("q_contains"==t.filter_type)b&&b[t.filter_value]&&b[t.filter_value].indexOf(t.param_value)>=0&&(e=!0);else if("q_notcontains"==t.filter_type)(!b||!b[t.filter_value]||b[t.filter_value].indexOf(t.param_value)<0)&&(e=!0);else if("exact"==t.filter_type){var c=p(t,y,v);c&&(t.full_url?g==t.match_url&&(e=!0):null==t.match_url&&c?e=!0:(g==t.match_url||m==t.match_url)&&(e=!0))}else if("beginning"==t.filter_type){var c=p(t,y,v);c&&(t.full_url?0==g.indexOf(t.match_url.toLowerCase())&&(e=!0):null==t.match_url&&c?e=!0:(0==g.indexOf(t.match_url.toLowerCase())||0==m.indexOf(t.match_url.toLowerCase()))&&(e=!0))}else if("containing"==t.filter_type){var c=p(t,y,v);c&&(t.full_url?g.indexOf(t.match_url.toLowerCase())>=0&&(e=!0):null==t.match_url&&c?e=!0:g.indexOf(t.match_url.toLowerCase())>=0&&(e=!0))}else if(k&&["r_url_exact","r_domain_exact","r_url_beginning","r_domain_beginning","r_url_containing","r_domain_containing"].indexOf(t.filter_type)>=0)if("r_url_exact"==t.filter_type){var c=p(t,Q,E);t.full_url?c&&N==t.match_url.toLowerCase()&&(e=!0):c&&N==t.match_url.toLowerCase()?e=!0:null==t.match_url&&c&&(e=!0)}else if("r_domain_exact"==t.filter_type)t.host?t.host==q&&(e=!0):t.filter_value==q&&(e=!0);else if("r_url_beginning"==t.filter_type){var c=p(t,Q,E);t.full_url?c&&0==N.indexOf(t.match_url)&&(e=!0):c&&0==N.indexOf(t.match_url)?e=!0:null==t.match_url&&c&&(e=!0)}else if("r_domain_beginning"==t.filter_type)t.host&&0==q.indexOf(t.host)?e=!0:0==q.indexOf(t.filter_value)&&(e=!0);else if("r_url_containing"==t.filter_type){var c=p(t,Q,E);t.full_url?c&&N.indexOf(t.match_url)>=0&&(e=!0):c&&N.indexOf(t.match_url)>=0?e=!0:null==t.match_url&&c&&(e=!0)}else"r_domain_containing"==t.filter_type&&(t.host&&q.indexOf(t.host)>=0?e=!0:q.indexOf(t.filter_value)>=0&&(e=!0));else if("ua_os"==t.filter_type&&d&&d.compareOS){var l=[t.filter_value];"winmobile"==t.filter_value?l=["windows mobile","windows phone"]:"macos"==t.filter_value?l=["mac os"]:"windesktop"==t.filter_value&&(l=["windows"]),l.indexOf(d.compareOS)>=0&&(e=!0)}else if("ua_browser"==t.filter_type&&d&&d.compareBrowser){var l=[t.filter_value];"chrome"==t.filter_value?l=["chrome","chromium"]:"ie"==t.filter_value?l=["ie","ie mobile"]:"opera"==t.filter_value?l=["opera","opera mini","opera mobile","opera tablet"]:"safari"==t.filter_value&&(l=["safari","mobile safari"]),l.indexOf(d.compareBrowser)>=0&&(e=!0)}else if("ua_exact"==t.filter_type)t.filter_value.toLowerCase()==navigator.userAgent.toLowerCase()&&(e=!0);else if("ua_beginning"==t.filter_type)0==navigator.userAgent.toLowerCase().indexOf(t.filter_value.toLowerCase())&&(e=!0);else if("ua_containing"==t.filter_type)navigator.userAgent.toLowerCase().indexOf(t.filter_value.toLowerCase())>=0&&(e=!0);else if("hash_exact"==t.filter_type){var h="#"==t.filter_value[0]?t.filter_value:"#"+t.filter_value;
h.toLowerCase()==y.toLowerCase()&&(e=!0)}else if("hash_beginning"==t.filter_type){var h="#"==t.filter_value[0]?t.filter_value:"#"+t.filter_value;0==y.toLowerCase().indexOf(h.toLowerCase())&&(e=!0)}else if("hash_containing"==t.filter_type){var h="#"==t.filter_value[0]?t.filter_value:"#"+t.filter_value;y.toLowerCase().indexOf(h.toLowerCase())>=0&&(e=!0)}else"all"==t.filter_type&&(e=!0);e||(n=!0)}),n?void 0:(r=!0,!1)}),r},L=s(r,"rule_type","include",!1);if(L&&L.length){var U={},j=0;L.forEach(function(t){t.group_id&&t.group_id.length?U.hasOwnProperty(t.group_id)?U[t.group_id].push(t):U[t.group_id]=[t]:(U[j]=[t],j+=1)}),currentUrlIncluded=$(U)}else currentUrlIncluded=!0;if(!currentUrlIncluded)return!1;var F=s(r,"rule_type","exclude",!1),z=!1;if(!F||!F.length)return!0;var D={},j=0;return F.forEach(function(t){t.group_id&&t.group_id.length?D.hasOwnProperty(t.group_id)?D[t.group_id].push(t):D[t.group_id]=[t]:(D[j]=[t],j+=1)}),z=$(D),z?!1:!0}return!0}}),sumo.define("jquery.ba-resize",["jquery"],function(t){!function(t,e,r){"$:nomunge";function n(){s=e[o](function(){i.each(function(){var e=t(this),r=e.width(),n=e.height(),i=t.data(this,c);(r!==i.w||n!==i.h)&&e.trigger(u,[i.w=r,i.h=n])}),n()},a[l])}var i=t([]),a=t.sized=t.extend(t.sized,{}),s,o="setTimeout",u="sized",c=u+"-special-event",l="delay",h="throttleWindow";a[l]=250,a[h]=!0,t.event.special[u]={setup:function(){if(!a[h]&&this[o])return!1;var e=t(this);i=i.add(e),t.data(this,c,{w:e.width(),h:e.height()}),1===i.length&&n()},teardown:function(){if(!a[h]&&this[o])return!1;var e=t(this);i=i.not(e),e.removeData(c),i.length||clearTimeout(s)},add:function(e){function n(e,n,a){var s=t(this),o=t.data(this,c);o.w=n!==r?n:s.width(),o.h=a!==r?a:s.height(),i.apply(this,arguments)}if(!a[h]&&this[o])return!1;var i;return t.isFunction(e)?(i=e,n):(i=e.handler,void(e.handler=n))}}}(t,this)}),sumo.define("383cecce-e37f-4213-a2b2-678c56128049/buybutton",["jquery","JSON","URI","base64url","color","vex","postscribe","jquery.cookie","accounting","jquery.style","jquery.displayrules","jquery.ba-resize"],function(t,e,r,n,i,a,s,o,u){"use strict";var c="383cecce-e37f-4213-a2b2-678c56128049",l={$cart:null,$cartTab:null,$modal:null,api:null,hasMouse:!1,scrollTop:0,selectorCartItems:"ul.sumome-button-cart-items li",hasShown:!1,settings:{},load:function h(){var e=t("[data-sumome-buybutton-product-id]:empty"),r=[];e.length>0&&(t.each(e,function(e,n){r.push(t(n).attr("data-sumome-buybutton-product-id"))}),t.ajax({type:"POST",dataType:"json",url:this.api.properties.sumoUrl+"/apps/buybutton/load",data:{site_id:this.api.properties.siteId,campaign_ids:r},xhrFields:{withCredentials:!1},crossDomain:!0}).done(t.proxy(function(r){if(r&&"undefined"!=typeof r.success&&r.success&&"undefined"!=typeof r.buttons&&r.buttons){this.settings.buttons=r.buttons;var n="",i=[],a=!1;for(var o in this.settings.buttons)if(this.settings.buttons.hasOwnProperty(o)){var u=this.settings.buttons[o];u.button_font&&(n+=r.button_font),i.push(o),"addtocart"===u.button_behavior&&(a=!0)}i&&i.length&&(this.settings.fonts={buttonFont:n,cartFont:r.cart&&r.cart.cart_font?r.cart.cart_font:"",cartButtonFont:r.cart&&r.cart.cart_button_font?r.cart.cart_button_font:""},this.loadFonts(),this.settings.cart=r.cart,a&&this.loadCart(),this.settings.pro=r.pro?r.pro:!1,this.settings.starter=r.starter?r.starter:!1,this.settings.cartShown={},this.settings.cartId=r.cart_id,this.settings.previousCartId=null,this.settings.siteId=this.api.properties.siteId,this.settings.checkoutWindow=null,t.each(e,t.proxy(function(e,n){var i=t(n).attr("data-sumome-buybutton-product-id");if("undefined"==typeof r.buttons[i])return t(n).remove();var a=r.buttons[i],o=a.button_html.replace(/\/\/load.(dev.)?sumome.com\/client\//g,this.api.properties.baseUrl),u={buttonBackColor:a.button_back_color,buttonForeColor:a.button_fore_color},c={buttonFont:a.button_font},l={buttonText:a.button_text,button_behavior:a.button_behavior,button_display:a.button_display,button_html:a.button_html,button_style:a.button_style,name:a.name};o=this.findReplaceHtml(o,{colors:u,fonts:c,product:l});var h=t(o),p=a.id;if(h.closest(".sumome-button-btn").addClass("sumome-button-btn-display-"+a.button_display+" sumome-button-btn-style-"+a.button_style).data({sumomeBuybuttonBehavior:a.button_behavior,sumomeBuybuttonButtonId:p,sumomeBuybuttonCampaignId:i,sumomeBuybuttonProductName:a.name,sumomeBuybuttonProductPrice:parseFloat(a.price),sumomeBuybuttonCurrencySymbol:a.currencySymbol,sumomeBuybuttonShippable:a.shippable,sumomeBuybuttonMediaId:a.buyProductImages&&a.buyProductImages.length?a.buyProductImages[0].media_id:null}).on("click",t.proxy(function f(e){var r=t(e.target),n=r.data("sumomeBuybuttonButtonId"),i=r.data("sumomeBuybuttonCampaignId"),s=r.data("sumomeBuybuttonBehavior");"checkout"===s?(this.launchCheckout(a),this.emitEvent("button-click",n,i)):(this.addToCart(e),this.emitEvent("button-click",n,i))},this)),t(n).replaceWith(h),this.emitEvent("button-shown",p,i),"pro"in this.settings&&this.settings.pro&&a.add_to_cart_pixels_shown){var d=t('<div style="position:absolute !important;width:0 !important;height:0 !important;top:0px !important;left:0px !important;margin:0 !important;padding:0 !important;font-size:0 !important;background:transparent !important;"></div>');t("body").append(d),s.postscribe(d.get(0),a.add_to_cart_pixels_shown)}},this)))}},this)))},loadFonts:function p(){var e=[];"undefined"!==this.settings.fonts&&(["buttonFont","cartButtonFont","cartFont"].forEach(t.proxy(function r(t){if("undefined"!==this.settings.fonts[t]&&this.settings.fonts[t]){var r=this.settings.fonts[t],n=r.split(":"),i=n[0].split(","),a=i.shift(),s=n[1]?n[1]:400;e.push(a.replace(/ /g,"+")+":"+s)}},this)),e.length&&(e=t.unique(e),t("body").prepend('<link href="//fonts.googleapis.com/css?family='+e.join("|")+'" type="text/css" rel="stylesheet">')))},emitEvent:function d(t,e,r,n){if(this.api.emit("event",{appId:c,event:t}),this.api.emit("event",{appId:c+"."+e,event:t}),this.api.emit("event",{appId:c+"."+r,event:t}),this.api.emit("event",{appId:c+"."+e+"."+r,event:t}),n){var i=".#"+n;this.api.emit("event",{appId:c+i,event:t}),this.api.emit("event",{appId:c+"."+e+i,event:t}),this.api.emit("event",{appId:c+"."+r+i,event:t}),this.api.emit("event",{appId:c+"."+e+"."+r+i,event:t})}},findReplaceHtml:function f(e,r){if(!e||!e.length)return"";e=e.replace(/\/\/load.(dev.)?sumome.com\/client\//g,this.api.properties.baseUrl);var n=e.match(/\{bb\:.*?\}/g);n&&n.forEach(t.proxy(function(n){var a=n.replace(/([\{\}]|bb\:)/g,""),s=a.split("|");if(s.length>1){var o=s[1].split(":");e=e.replace(n,i.shadeColor(r.colors[s[0]],parseInt(o[1])))}else if("backgroundImage"===a)e=e.replace(n,"");else if("Font"===a.substr(-4))if(r.fonts[a]){var u=r.fonts[a],c=u.split(":").shift();c=c.split(",");var l=c.shift();c.unshift("'"+l+"'"),u?e=e.replace(new RegExp(n,"g"),"font-family: "+c.join(",")+" !important;"):(e=e.replace(n,""),t(e).find(".sumome-buybutton-"+a.substr(0,a.length-4)).eq(0).style("font-family",""))}else e=e.replace(n+";","");else if("Color"===a.substr(-5))e=e.replace(n,r.colors[s[0]]);else if("undefined"!=typeof r.product&&"undefined"!=typeof r.product[a]){var h=r.product[a];"buttonText"===a&&"undefined"!=typeof r.product&&"undefined"!=typeof r.product.name&&(h=h.replace(/\[\[product\]\]/gi,r.product.name)),e=e.replace(n,h)}},this));var a=function(t,e,r,n){return t.substring(0,e)+n+t.substring(r)},s,o=new RegExp("(<style>)(.*?\\r?\\n)*(</style>)","igm");if(s=o.exec(e)){var u=e.substring(s.index,o.lastIndex),c=s.index,l=o.lastIndex;e=a(e,c,l,u)}return e},launchCheckout:function m(e){var r=!1,n;this.settings.checkoutWindow&&this.settings.checkoutWindow.close();var i=this.settings.previousCartId,a=[];if(this.settings.cartId){e&&"checkout"===e.button_behavior&&(a=[{id:e.id,quantity:1,campaignId:e.campaignId}],r=!0),this.$cart&&(n=this.$cart.find(this.selectorCartItems));var s=!1;n&&n.length&&t.each(n,function w(e,n){var i=t(n),o={id:i.data("sumomeBuybuttonButtonId"),quantity:r?1:parseInt(i.find("input").val()),campaignId:i.data("sumomeBuybuttonCampaignId")};i.data("sumomeBuybuttonShippable")&&(s=!0),o.quantity>0&&a.push(o)});var o=430,u=s?710:550,c=void 0!==window.screenLeft?window.screenLeft:screen.availLeft,l=void 0!==window.screenTop?window.screenTop:screen.availTop,h=!1,p=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,d=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,f=p/2-o/2+c,m=d/2-u/2+l;this.settings.checkoutWindow=window.open(this.api.properties.secureSumoUrl+"/checkout/preparecart/"+this.settings.cartId+"?cs="+this.settings.cart.id,"_blank","width="+o+", height="+u+", top="+m+", left="+f),this.settings.checkoutWindow&&window.focus&&this.settings.checkoutWindow.focus();var g,v=this.settings.cartId,y=this.settings.siteId,b=this.settings.cart.id,_=this.api.properties.sumoUrl;g=window.setInterval(t.proxy(function(){this.settings.checkoutWindow.closed===!1||h?h&&window.clearInterval(g):(h=!0,window.clearInterval(g),this.onWindowClose({cartId:v,siteId:y,styleId:b,sumoUrl:_}))},this),1e3),setTimeout(function(){window.clearInterval(g)},12e5),this.settings.previousCartId=this.settings.cartId,this.settings.cartId=null,t.ajax({type:"POST",dataType:"json",beforeSend:function(e){e.setRequestHeader("X-Sumo-Auth",t.cookie("__smToken"))},xhrFields:{withCredentials:!1},crossDomain:!0,url:this.api.properties.secureSumoUrl+"/buybutton/createorder",data:{site_id:this.settings.siteId,cart_id:v,previous_cart_id:i,buttons:a},success:t.proxy(function(t){t.cart_id&&(this.settings.cartId=t.cart_id)},this)})}else t.ajax({type:"POST",dataType:"json",beforeSend:function(e){e.setRequestHeader("X-Sumo-Auth",t.cookie("__smToken"))},xhrFields:{withCredentials:!1},crossDomain:!0,url:this.api.properties.secureSumoUrl+"/buybutton/getcartid",data:{site_id:this.settings.siteId,previous_cart_id:i},success:t.proxy(function(t){t.cart_id&&(this.settings.cartId=t.cart_id,this.launchCheckout(e))},this)})},onWindowClose:function g(e){t.ajax({type:"POST",dataType:"json",beforeSend:function(e){e.setRequestHeader("X-Sumo-Auth",t.cookie("__smToken"))},xhrFields:{withCredentials:!1},crossDomain:!0,url:e.sumoUrl+"/buy/cart/checkpurchase",data:{site_id:e.siteId,cart_id:e.cartId,style_id:e.styleId},success:t.proxy(function(e){if(e.success&&e.paid&&(this.continueContent(e),e.buyRedirectUrl))if("post"===e.buyRedirectMethod){var r=t("<form />").attr("method","post").attr("action",e.buyRedirectUrl);if(e.buyRedirectVariable){var n=t("<input />").attr("type","text").attr("name",e.buyRedirectVariable).val(e.email);r.append(n)}t(document.body).append(r),setTimeout(function(){r.trigger("submit")},1e3)}else if("get"===e.buyRedirectMethod){var i=e.buyRedirectUrl;if(e.buyRedirectVariable){var a={};i+=i.indexOf("?")>0?"&":"?",a[e.buyRedirectVariable]=e.email,i+=t.param(a)}setTimeout(function(){window.location=i},1e3)}else setTimeout(t.proxy(function(){window.location=e.buyRedirectUrl},this),1e3)},this)})},continueContent:function v(e){var r=t("<div>");r.addClass("sumome-button-cart-success"),r.style("background-color",this.settings.cart.cart_back_color),r.style("height","100%");var n=t("<h1>");n.style("color",this.settings.cart.cart_fore_color),n.style("text-align","center"),n.style("padding","10px");var i=t("<a>");i.addClass("sumome-button-cart-close"),i.attr("href","javascript:void(0);"),i.style("opacity",".5"),i.style("font-family","Arial, Helvetica, sans-serif"),i.style("font-size","26px"),i.style("margin","20px 25px"),i.style("color",this.settings.cart.cart_fore_color),i.text("✖"),i.on("click",t.proxy(function(t){this.toggleCart(!1)},this)),n.text(e.header);var a=t("<div>");a.style("width","100%"),a.style("display","inline-block"),a.append(i),r.append(a),r.append(n);var s=t("<h4>");s.style("color",this.settings.cart.cart_fore_color),s.style("text-align","center"),s.style("padding","10px"),s.text(e.message),r.append(s),t(".sumome-buybutton-cart-open").append(r),t(".sumome-button-cart").hide(),setTimeout(t.proxy(function(){this.toggleCart(!1)},this),5e3)},loadCart:function y(){this.hasShown=!0,t(document).off(".buybutton"),t(window).off(".buybutton");var e=Math.min(window.screen.availHeight||t(window).height(),t(window).height()),r=this.settings.cart,n=r.cart_html.replace(/\/\/load.(dev.)?sumome.com\/client\//g,this.api.properties.baseUrl),i={cartBackColor:r.cart_back_color,cartForeColor:r.cart_fore_color,cartButtonBackColor:r.cart_button_back_color,cartButtonForeColor:r.cart_button_fore_color},a={cartFont:r.cart_font,cartButtonFont:r.cart_button_font};n=this.findReplaceHtml(n,{colors:i,fonts:a});var s=t("body");this.$cart=t("<div data-sumome-buybutton-cart-wrapper>").append(n),this.$cartTab=this.$cart.find(".sumome-button-tab"),this.$cartTab.on("click",t.proxy(function o(t){this.toggleCart()},this)),this.totalCart(),this.$cart.find(".sumome-button-cart-checkout").on("click",t.proxy(function u(e){if(!t(e.target).parent().hasClass("sumome-button-cart-checkout-disabled")){var r=this.$cart.find(this.selectorCartItems),n=this.settings.cart.id;r.each(t.proxy(function(e,r){var i=t(r).data("sumomeBuybuttonButtonId"),a=t(r).data("sumomeBuybuttonCampaignId");this.emitEvent("cart-click",i,a,n)},this)),this.launchCheckout()}},this)),this.$cart.find(".sumome-button-cart-close").on("click",t.proxy(function c(){this.toggleCart()},this)),s.append(this.$cart),this.$cartTab.css("top",e/2-30),this.$cartTab.hide()},toggleCart:function b(e){if("undefined"==typeof e&&(e=0!==parseInt(this.$cart.css("right"))),e)this.$cart.addClass("sumome-buybutton-cart-open");else{var r=t(".sumome-button-cart-success");r&&r.length&&(t("li.sumome-button-cart-item[data-sumome-buybutton-product-id]").remove(),this.totalCart(),t(".sumome-button-cart").show(),r.remove()),this.$cart.removeClass("sumome-buybutton-cart-open")}},addToCart:function _(e){var r=t(e.currentTarget),n=r.data("sumomeBuybuttonButtonId"),i=r.data("sumomeBuybuttonCampaignId"),a=r.data("sumomeBuybuttonShippable"),s=r.data("sumomeBuybuttonMediaId"),o=t('li.sumome-button-cart-item[data-sumome-buybutton-product-id="'+n+'"]'),c=o.find(".sumome-button-cart-item-price"),l=parseFloat(r.data("sumomeBuybuttonProductPrice")),h=r.data("sumomeBuybuttonCurrencySymbol");if("undefined"!=typeof this.settings.cartShown[n]&&(this.settings.cartShown[n]=!0,this.emitEvent("cart-shown",n,i,this.settings.cart.id)),this.$cartTab.show(),o.length){var p=o.find("input");this.updateQuantity(o.closest("li"),1)}else{var d=r.data("sumomeBuybuttonProductName");this.settings.currencySymbol=h;var f=t("<li>").addClass("sumome-button-cart-item").attr("data-sumome-buybutton-product-id",n).data({sumomeBuybuttonButtonId:n,sumomeBuybuttonCampaignId:i,sumomeBuybuttonProductName:d,sumomeBuybuttonProductPrice:l,sumomeBuybuttonCurrencySymbol:h,sumomeBuybuttonShippable:a,sumomeBuybuttonMediaId:s}).append(t("<div>").addClass("sumome-button-cart-image"),t("<div>").addClass("sumome-button-cart-item-info").append(t("<div>").append(t("<span>").addClass("sumome-button-cart-item-description").text(d),t("<span>").addClass("sumome-button-cart-item-price").text(u.formatMoney(l,h)),t("<br>"),t("<div>").addClass("sumome-button-cart-quantity-table").append(t("<div>").addClass("sumome-button-cart-quantity-row").append(t("<a>").addClass("sumome-button-cart-quantity-btn sumome-button-cart-quantity-decrement").attr("href","javascript:void(0);").html("&#8722").on("click",t.proxy(function y(e){this.updateQuantity(t(e.currentTarget).closest("li"),-1)},this)),t("<input>").attr("type","text").addClass("sumome-button-cart-quantity").val(1),t("<a>").addClass("sumome-button-cart-quantity-btn sumome-button-cart-quantity-increment").attr("href","javascript:void(0);").text("+").on("click",t.proxy(function b(e){this.updateQuantity(t(e.currentTarget).closest("li"),1)},this)))))));s&&f.find(".sumome-button-cart-image").css("backgroundImage",'url("'+this.getThumbnailUrl("//sumome-media.s3.amazonaws.com/"+s,50,50,"png")+'")'),t("ul.sumome-button-cart-items").append(f);var m=f.find("a.sumome-button-cart-quantity-decrement:first").outerHeight(),g=f.find("input.sumome-button-cart-quantity:first").outerHeight(),v=Math.max(m,g);f.find("input.sumome-button-cart-quantity").style("height",v+"px","important"),f.find("a.sumome-button-cart-quantity-btn").style("height",v+"px","important")}this.totalCart(),this.toggleCart(!0)},totalCart:function w(){var e=this.$cart.find(this.selectorCartItems),r=0;e.length&&t.each(e,function n(e,i){var a=t(i),s=a.data();r+=parseFloat(s.sumomeBuybuttonProductPrice)*parseInt(a.find("input").val())}),0===r?this.$cart.find(".sumome-button-cart-checkout").addClass("sumome-button-cart-checkout-disabled"):this.$cart.find(".sumome-button-cart-checkout").removeClass("sumome-button-cart-checkout-disabled"),this.$cart.find(".sumome-button-cart-total-amt").text(u.formatMoney(r,this.settings.currencySymbol))},updateQuantity:function x(t,e){var r=t.find("input"),n=t.find(".sumome-button-cart-item-price"),i=t.data("sumomeBuybuttonProductPrice"),a=t.data("sumomeBuybuttonCurrencySymbol"),s=parseInt(r.val())+e;s=0>=s?0:s,n.text(u.formatMoney(i*s,a)),r.val(s),this.totalCart()},getThumbnailUrl:function(t,e,i,a){if(!t)return"";try{var s=new r(t).absoluteTo("http:"+this.api.properties.baseUrl).toString(),o=n.encode(s);return s.indexOf("dev.sumome.com")>=0?this.api.properties.sumoUrl+"/media/thumbs/"+o+"/"+(e||60)+"/"+(i||60)+"/"+(a||"default"):"//sumomethumbs-140a.kxcdn.com/media/thumbs/"+o+"/"+(e||60)+"/"+(i||60)+"/"+(a||"default")}catch(u){return t}}};return l}),sumo.define("383cecce-e37f-4213-a2b2-678c56128049/service",["jquery","383cecce-e37f-4213-a2b2-678c56128049/buybutton"],function(t,e){return function(r){var n=function(n,i){sumo.require(["plugins/css!../css/sumome-buy-style.css"],function(){e.api=r,window.setTimeout(t.proxy(e.load,e),0),i()})},i=function(t){t()};return{init:n,destroy:i}}}),sumo.define("383cecce-e37f-4213-a2b2-678c56128049/service",function(){})}(void 0,void 0);